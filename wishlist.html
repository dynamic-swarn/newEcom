<!DOCTYPE html>
<html>
<head>
  <title>Wishlist</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<h1>Your Wishlist</h1>
<div id="wishlist-items"></div>

<script>
let wishlist = JSON.parse(localStorage.getItem("wishlist")) || [];
const container = document.getElementById("wishlist-items");

function renderWishlist() {
  container.innerHTML = "";

  if (wishlist.length === 0) {
    container.innerHTML = "<p>Your wishlist is empty</p>";
    return;
  }

  wishlist.forEach((item, index) => {
    container.innerHTML += `
      <div style="display:flex; gap:15px; margin-bottom:15px; align-items:center;">
        <img src="${item.img}" width="80">
        <div>
          <h4>${item.name}</h4>
          <p>${item.price}</p>
          <button class="add-cart-btn" onclick="moveToCart(${index})">
            Add to Cart ðŸ›’
          </button>
        </div>
      </div>
    `;
  });
}

function moveToCart(index) {
  let cart = JSON.parse(localStorage.getItem("cart")) || [];
  let product = wishlist[index];

  let existingItem = cart.find(item => item.name === product.name);

  if (existingItem) {
    existingItem.qty = (existingItem.qty || 1) + 1;
  } else {
    cart.push({
      name: product.name,
      price: product.price,
      img: product.img,
      desc: product.desc || "",
      qty: 1
    });
  }

  localStorage.setItem("cart", JSON.stringify(cart));

  wishlist.splice(index, 1);
  localStorage.setItem("wishlist", JSON.stringify(wishlist));

  renderWishlist();
}

renderWishlist();
</script>

</body>
</html>
